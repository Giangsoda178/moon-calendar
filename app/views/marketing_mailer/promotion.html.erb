<h2 style="margin: 0 0 16px 0; color: <%= email_colors[:foreground] %>; font-size: 24px; font-weight: 600;">
  <%= @promotion[:title] || @promotion.try(:title) || "Special Offer" %>
</h2>

<p style="margin: 0 0 16px 0;">
  Hi <%= @user.respond_to?(:name) ? @user.name : "there" %>,
</p>

<p style="margin: 0 0 16px 0; font-size: 18px; color: <%= email_colors[:foreground] %>;">
  <%= @promotion[:description] || @promotion.try(:description) || "We have a special offer just for you!" %>
</p>

<%= render "mailers/shared/card" do %>
  <div style="text-align: center;">
    <% if @promotion[:discount] || @promotion.try(:discount) %>
    <p style="margin: 0 0 8px 0; font-size: 32px; font-weight: bold; color: <%= email_colors[:primary] %>; letter-spacing: 2px;">
      <%= @promotion[:discount] || @promotion.try(:discount) %>
    </p>
    <% end %>
    <% if @promotion[:code] || @promotion.try(:code) %>
    <p style="margin: 0 0 8px 0; font-size: 14px; color: <%= email_colors[:muted_foreground] %>; text-transform: uppercase; letter-spacing: 1px;">
      Use code: <strong><%= @promotion[:code] || @promotion.try(:code) %></strong>
    </p>
    <% end %>
    <% if @promotion[:expires_at] || @promotion.try(:expires_at) %>
    <p style="margin: 0; font-size: 14px; color: <%= email_colors[:muted_foreground] %>;">
      Expires: <%= (@promotion[:expires_at] || @promotion.try(:expires_at))&.strftime("%B %d, %Y") || "Limited time" %>
    </p>
    <% end %>
  </div>
<% end %>

<%= render "mailers/shared/button", text: "Shop Now", url: @promotion[:cta_url] || @promotion.try(:cta_url) || "#", icon: :arrow_right %>

<p style="margin: 16px 0 0 0; font-size: 12px; color: <%= email_colors[:muted_foreground] %>;">
  * <%= @promotion[:terms] || @promotion.try(:terms) || "Terms and conditions apply." %>
</p>

<%= render "mailers/shared/divider" %>

<p style="margin: 0; font-size: 12px; color: <%= email_colors[:muted_foreground] %>; text-align: center;">
  <a href="<%= @unsubscribe_url || "#" %>" style="color: <%= email_colors[:muted_foreground] %>;">Unsubscribe</a>
</p>
